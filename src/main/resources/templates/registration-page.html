<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Restaurant Sign-In</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/registration-styles.css}">
    <link rel="stylesheet" th:href="@{/css/login-registration-common-styles.css}">
</head>
<body>
<div class="log-reg-page">
    <div class="container">
        <h1>Registration</h1>

        <form th:action="@{/register}" method="post" th:object="${customer}">
            <div class="form-group">
                <input type="text"
                       id="name"
                       th:field="*{customerName}"
                       th:placeholder="${#fields.hasErrors('customerName')} ? ${#fields.errors('customerName')[0]} : 'Enter your first name'"
                       th:class="${#fields.hasErrors('customerName')} ? 'error' : ''">
            </div>
            <div class="form-group">
                <input type="text"
                       id="lastName"
                       th:field="*{customerLastName}"
                       th:placeholder="${#fields.hasErrors('customerLastName')} ? ${#fields.errors('customerLastName')[0]} : 'Enter your last name'"
                       th:class="${#fields.hasErrors('customerLastName')} ? 'error' : ''">
            </div>
            <div class="form-group">
                <input type="text"
                       id="mail"
                       th:field="*{customerMail}"
                       th:placeholder="${#fields.hasErrors('customerMail') ? #fields.errors('customerMail')[0] : 'Enter your email'}"
                       th:class="${#fields.hasErrors('customerMail')} or ${mailError != null} ? 'error' : ''">
            </div>
            <div class="form-group">
                <input type="password"
                       id="password"
                       th:field="*{customerPassword}"
                       th:placeholder="${#fields.hasErrors('customerPassword') ? #fields.errors('customerPassword')[0] : 'Enter your password'}"
                       th:class="${#fields.hasErrors('customerPassword')} ? 'error' : ''">
            </div>
            <div class="form-group">
                <button type="submit">Sign In</button>
            </div>
        </form>
        <a th:href="@{/login}">Return to Login Page</a>
    </div>
</div>
</body>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const errorInputs = document.querySelectorAll('input.error');
        errorInputs.forEach(input => {
            if (input.value) {
                const placeholder = input.placeholder;
                input.value = '';
                input.placeholder = placeholder;
            }
        });
    });
</script>
</html>
